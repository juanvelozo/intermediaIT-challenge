
# IntermediaIT challenge - Airports distance app

Este proyecto es parte del desaf√≠o de proceso de selecci√≥n para IntermediaIT. El objectivo fue crear una aplicaci√≥n que conste de

- Autenticaci√≥n con Firebase.
- Una lista de todos los aeropuertos de los Estados Unidos para poder comparar 2 de ellos y calcular la distancia entre ellos en millas n√°uticas.
    - Como extra, tambi√©n incluye el uso de GoogleMaps API para poder mostrar las coordenadas de los aeropuertos en un mapa, junto a una ruta entre ellos dos usando la API de Directions de Google.

## Setup

Este proyecto fue configurado con el gestor de paquetes Yarn. Para poder correr el proyecto en un ambiente de desarrollo, debe ejecutar el siguiente comando:

```
yarn install
```

Una vez la instalaci√≥n de las dependencias se haya completado, debe ejecutar el siguiente comando:

### Para android:
```
yarn android
```
### Para web (Con expo)
```
yarn web
```
### Para iOS (No testeado)
```
yarn ios
```
> [!WARNING]
> Tenga en cuenta que este proyecto no fue testeado en el entorno de desarrollo nativo de iOS.
## Variables de entorno

Para correr este proyecto, usted va a necesitar agregar las siguientes variables de entorno a un archivo .env en la carpeta ra√≠z del proyecto.

`FIREBASE_API_KEY=AIzaSyAPFqEvlCHID2uhGaltexMLc8q7aNa6I6U`

`GOOGLE_MAPS_API_KEY=AIzaSyAQYqQCCyynaj-vamvzSc2fr5SRr-BH_VI`


## Estructura de archivos
```
üì¶ intermedia-IT-challenge
‚îú‚îÄ¬†assets        -> All the necessaries assets for Expo 
‚îú‚îÄ¬†components    -> The functional components of the project
‚îú‚îÄ¬†context       -> Here is where I handle the Context API functionality (In this case, just the Session)
‚îú‚îÄ¬†data          -> The mock data I use in the project
‚îú‚îÄ¬†helpers       
‚îÇ¬†¬†‚îú‚îÄ¬†schemas    -> The inputs validations for the forms
‚îÇ¬†¬†‚îî‚îÄ¬†types      -> The types of entities, events, enums, interfaces, etc.
‚îú‚îÄ¬†hooks         -> Custom hooks used for different purposes.
‚îú‚îÄ¬†navigation     
‚îÇ¬†¬†‚îú‚îÄ¬†auth       -> The navigator from the auth flow
‚îÇ¬†¬†‚îî‚îÄ¬†main       -> The navigator from the main flow
‚îú‚îÄ¬†provider      -> The providers of my contexts
‚îú‚îÄ¬†screens        
‚îÇ¬†¬†‚îú‚îÄ¬†auth       -> All the screens related to the authentication flow
‚îÇ¬†¬†‚îî‚îÄ¬†main       -> All the screens related to the main functionality
‚îú‚îÄ¬†theme         -> Colors, fonts, measures, etc.
‚îî‚îÄ¬†utils         -> Misc. stuff.
```
¬©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

## Funcionalidades
### Login
Para el login, decid√≠ usar el Context API de React para identificar en el cliente cuando el usuario est√° autenticado y los m√©todos que usar√° para estarlo o dejar de estarlo. \
En este caso, implement√© *un estado* (**isAutheticated**:  `boolean`), *una entidad* (**User**: `User`, que en este caso no tiene utilidad pero podr√≠amos escalarlo para implementar un perfil de usuario), y *tres m√©todos* (**handleSignIn** para logear al usuario, **handleSignUp** para registrar a un usuario, y **handleSignOut** para desautenticar al usuario).  
- **handleSignIn**: Este m√©todo se comunica con el m√©todo `signInWithEmailAndPassword` de `firebase/auth`, que recibe un usuario y contrase√±a como credenciales para loguearse a nuestra aplicaci√≥n.
- **handleSignUp**: Este m√©todo recibe un evento de formulario y se comunica con el m√©todo `createUserWithEmailAndPassword` de `firebase/auth` para crear nuestro usuario en Firebase y lo carga en nuestra base de datos de Firestore con `setDoc`.
- **handleSignOut**: Este m√©todo utiliza el m√©todo `signOut` de `firebase/auth` para cerrar la sesi√≥n del usuario en el backend. Una vez la operaci√≥n se haya completado exit√≥samente, se setea el **User** en null y el estado **isAutheticated** en false, para que la UI devuelva el Navigator del flow de autenticaci√≥n.
### Aeropuertos
En la home, implement√© las funcionalidades principales de la aplicaci√≥n. Primero, consegu√≠ una lista de todos los aeropuertos de Estados Unidos con sus coordenadas en formato JSON y los defin√≠ en un arreglo de tipo `Airport`. 

Luego, implement√© dos inputs para buscar en esta lista de aeropuertos, un **input A** y un **input B**. 
Ambos inputs revelan la lista de aeropuertos y un buscador en el que podemos iterar sobre la lista para filtrar por resultado de b√∫squeda. Una vez presionemos sobre un item de la lista, seleccionaremos nuestro aeropuerto para dicho input (es decir, setearemos el estado `AirportA` o `AirportB`, dependiendo del input en el que hayamos ingresado). Al seleccionar un aeropuerto, la otra lista ya no lo tendr√° disponible (Es decir, si usted eligi√≥ el *Albuquerque International* en el `inputA`, dicho aeropuerto no estar√° disponible en la lista del `inputB`). Una vez seleccionemos los dos aeropuertos, se habilitar√° un bot√≥n que nos permitir√° comparar las distancias entre si. 

Este bot√≥n navegar√° a la pantalla de `AirportsDistance`, la cual tiene dos caracter√≠sticas importantes:
- La primera es el uso del m√©todo `getDistance` de la librer√≠a `geoLib` para calcular la distancia entre estos dos puntos. Al mismo tiempo, este valor num√©rico ser√° dividido por **1852** para su conversi√≥n en millas nauticas.
- La segunda es el uso del componente `mapView` de la librer√≠a `react-native-maps` para mostrar los dos puntos en el mapa, el punto de nuestro *Aeropuerto A* y el punto de nuestro *Aeropuerto B*. Al mismo tiempo, utilizamos `MapDirections` de la librer√≠a `react-native-maps-directions` para mostrar una ruta del punto A al punto B utilizando la API de direcciones de Google Maps.
Si volvemos hacia atr√°s, podremos volver a elegir entre dos aeropuertos nuevamente.
## Autor

- [Juan Velozo (Developer)](https://www.github.com/juanvelozo_)


## Feedback

If you have any feedback, please reach out to me at juanvelozomoreno18@gmail.com

