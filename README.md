
# IntermediaIT challenge - Airports distance app

Este proyecto es parte del desafÃ­o de proceso de selecciÃ³n para IntermediaIT. El objectivo fue crear una aplicaciÃ³n que conste de

- AutenticaciÃ³n con Firebase.
- Una lista de todos los aeropuertos de los Estados Unidos para poder comparar 2 de ellos y calcular la distancia entre ellos en millas nÃ¡uticas.
    - Como extra, tambiÃ©n incluye el uso de GoogleMaps API para poder mostrar las coordenadas de los aeropuertos en un mapa, junto a una ruta entre ellos dos usando la API de Directions de Google.

## Setup

Este proyecto fue configurado con el gestor de paquetes Yarn. Para poder correr el proyecto en un ambiente de desarrollo, debe ejecutar el siguiente comando:

```
yarn install
```

Una vez la instalaciÃ³n de las dependencias se haya completado, debe ejecutar el siguiente comando:

### Para android:
```
yarn android
```
### Para web (Con expo)
```
yarn web
```
### Para iOS (No testeado)
```
yarn ios
```
> [!WARNING]
> Tenga en cuenta que este proyecto no fue testeado en el entorno de desarrollo nativo de iOS.
## Variables de entorno

Para correr este proyecto, usted va a necesitar agregar las siguientes variables de entorno a un archivo .env en la carpeta raÃ­z del proyecto.

`FIREBASE_API_KEY=AIzaSyAPFqEvlCHID2uhGaltexMLc8q7aNa6I6U`

`GOOGLE_MAPS_API_KEY=AIzaSyAQYqQCCyynaj-vamvzSc2fr5SRr-BH_VI`


## Estructura de archivos
```
ðŸ“¦ intermedia-IT-challenge
â”œâ”€Â assets
â”œâ”€Â components
â”œâ”€Â context
â”œâ”€Â data
â”œâ”€Â helpers
â”‚Â Â â”œâ”€Â schemas
â”‚Â Â â””â”€Â types
â”œâ”€Â hooks
â”œâ”€Â navigation
â”‚Â Â â”œâ”€Â auth
â”‚Â Â â””â”€Â main
â”œâ”€Â provider
â”œâ”€Â screens
â”‚Â Â â”œâ”€Â auth
â”‚Â Â â””â”€Â main
â”œâ”€Â theme
â””â”€Â utils
```
Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

## Funcionalidades
### Login
Para el login, decidÃ­ usar el Context API de React para identificar en el cliente cuando el usuario estÃ¡ autenticado y los mÃ©todos que usarÃ¡ para estarlo o dejar de estarlo. \
En este caso, implementÃ© *un estado* (**isAutheticated**:  `boolean`), *una entidad* (**User**: `User`, que en este caso no tiene utilidad pero podrÃ­amos escalarlo para implementar un perfil de usuario), y *tres mÃ©todos* (**handleSignIn** para logear al usuario, **handleSignUp** para registrar a un usuario, y **handleSignOut** para desautenticar al usuario).  
- **handleSignIn**: Este mÃ©todo se comunica con el mÃ©todo `signInWithEmailAndPassword` de `firebase/auth`, que recibe un usuario y contraseÃ±a como credenciales para loguearse a nuestra aplicaciÃ³n.
- **handleSignUp**: Este mÃ©todo recibe un evento de formulario y se comunica con el mÃ©todo `createUserWithEmailAndPassword` de `firebase/auth` para crear nuestro usuario en Firebase y lo carga en nuestra base de datos de Firestore con `setDoc`.
- **handleSignOut**: Este mÃ©todo utiliza el mÃ©todo `signOut` de `firebase/auth` para cerrar la sesiÃ³n del usuario en el backend. Una vez la operaciÃ³n se haya completado exitÃ³samente, se setea el **User** en null y el estado **isAutheticated** en false, para que la UI devuelva el Navigator del flow de autenticaciÃ³n.
### Aeropuertos
En la home, implementÃ© las funcionalidades principales de la aplicaciÃ³n. Primero, conseguÃ­ una lista de todos los aeropuertos de Estados Unidos con sus coordenadas en formato JSON y los definÃ­ en un arreglo de tipo `Airport`. 

Luego, implementÃ© dos inputs para buscar en esta lista de aeropuertos, un **input A** y un **input B**. 
Ambos inputs revelan la lista de aeropuertos y un buscador en el que podemos iterar sobre la lista para filtrar por resultado de bÃºsqueda. Una vez presionemos sobre un item de la lista, seleccionaremos nuestro aeropuerto para dicho input (es decir, setearemos el estado `AirportA` o `AirportB`, dependiendo del input en el que hayamos ingresado). Al seleccionar un aeropuerto, la otra lista ya no lo tendrÃ¡ disponible (Es decir, si usted eligiÃ³ el *Albuquerque International* en el `inputA`, dicho aeropuerto no estarÃ¡ disponible en la lista del `inputB`). Una vez seleccionemos los dos aeropuertos, se habilitarÃ¡ un botÃ³n que nos permitirÃ¡ comparar las distancias entre si. 

Este botÃ³n navegarÃ¡ a la pantalla de `AirportsDistance`, la cual tiene dos caracterÃ­sticas importantes:
- La primera es el uso del mÃ©todo `getDistance` de la librerÃ­a `geoLib` para calcular la distancia entre estos dos puntos. Al mismo tiempo, este valor numÃ©rico serÃ¡ dividido por **1852** para su conversiÃ³n en millas nauticas.
- La segunda es el uso del componente `mapView` de la librerÃ­a `react-native-maps` para mostrar los dos puntos en el mapa, el punto de nuestro *Aeropuerto A* y el punto de nuestro *Aeropuerto B*. Al mismo tiempo, utilizamos `MapDirections` de la librerÃ­a `react-native-maps-directions` para mostrar una ruta del punto A al punto B utilizando la API de direcciones de Google Maps.
Si volvemos hacia atrÃ¡s, podremos volver a elegir entre dos aeropuertos nuevamente.
## Autor

- [Juan Velozo (Developer)](https://www.github.com/juanvelozo_)


## Feedback

If you have any feedback, please reach out to me at juanvelozomoreno18@gmail.com

